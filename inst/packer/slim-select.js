(()=>{var e={7647:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var i=t(8081),n=t.n(i),a=t(3645),o=t.n(a)()(n());o.push([e.id,":root{--ss-primary-color: #5897fb;--ss-bg-color: #ffffff;--ss-font-color: #4d4d4d;--ss-font-placeholder-color: #8d8d8d;--ss-disabled-color: #dcdee2;--ss-border-color: #dcdee2;--ss-highlight-color: #fffb8c;--ss-success-color: #00b755;--ss-error-color: #dc3545;--ss-focus-color: #5897fb;--ss-main-height: 30px;--ss-content-height: 300px;--ss-spacing-l: 7px;--ss-spacing-m: 5px;--ss-spacing-s: 3px;--ss-animation-timing: 0.2s;--ss-border-radius: 4px}@keyframes ss-valueIn{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}@keyframes ss-valueOut{0%{transform:scale(1);opacity:1}100%{transform:scale(0);opacity:0}}.ss-hide{display:none !important}.ss-main{display:flex;flex-direction:row;position:relative;user-select:none;color:var(--ss-font-color);min-height:var(--ss-main-height);width:100%;padding:var(--ss-spacing-s);cursor:pointer;border:1px solid var(--ss-border-color);border-radius:var(--ss-border-radius);background-color:var(--ss-bg-color);outline:0;box-sizing:border-box;transition:background-color var(--ss-animation-timing);overflow:hidden}.ss-main:focus{box-shadow:0 0 5px var(--ss-focus-color)}.ss-main.ss-disabled{background-color:var(--ss-disabled-color);cursor:not-allowed}.ss-main.ss-disabled .ss-values .ss-disabled{color:var(--ss-font-color)}.ss-main.ss-disabled .ss-values .ss-value .ss-value-delete{cursor:not-allowed}.ss-main.ss-open-above{border-top-left-radius:0px;border-top-right-radius:0px}.ss-main.ss-open-below{border-bottom-left-radius:0px;border-bottom-right-radius:0px}.ss-main .ss-values{display:inline-flex;flex-wrap:wrap;gap:var(--ss-spacing-m);flex:1 1 100%}.ss-main .ss-values .ss-placeholder{display:flex;padding:var(--ss-spacing-s) var(--ss-spacing-m) var(--ss-spacing-s) var(--ss-spacing-m);margin:auto 0px auto 0px;line-height:1em;align-items:center;width:100%;color:var(--ss-font-placeholder-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ss-main .ss-values .ss-max{display:flex;user-select:none;align-items:center;width:fit-content;font-size:12px;color:var(--ss-bg-color);line-height:1;padding:var(--ss-spacing-s) var(--ss-spacing-m);background-color:var(--ss-primary-color);border-radius:var(--ss-border-radius)}.ss-main .ss-values .ss-single{display:flex;margin:auto 0px auto var(--ss-spacing-s)}.ss-main .ss-values .ss-value{display:flex;user-select:none;align-items:center;width:fit-content;background-color:var(--ss-primary-color);border-radius:var(--ss-border-radius);animation-name:ss-valueIn;animation-duration:var(--ss-animation-timing);animation-timing-function:ease-out;animation-fill-mode:both}.ss-main .ss-values .ss-value.ss-value-out{animation-name:ss-valueOut;animation-duration:var(--ss-animation-timing);animation-timing-function:ease-out}.ss-main .ss-values .ss-value .ss-value-text{font-size:12px;color:var(--ss-bg-color);line-height:1;padding:var(--ss-spacing-s) var(--ss-spacing-m)}.ss-main .ss-values .ss-value .ss-value-delete{display:flex;align-items:center;height:var(--ss-spacing-l);width:var(--ss-spacing-l);padding:var(--ss-spacing-s) var(--ss-spacing-m);cursor:pointer;border-left:solid 1px var(--ss-bg-color);box-sizing:content-box}.ss-main .ss-values .ss-value .ss-value-delete svg{height:var(--ss-spacing-l);width:var(--ss-spacing-l)}.ss-main .ss-values .ss-value .ss-value-delete svg path{fill:none;stroke:var(--ss-bg-color);stroke-width:18;stroke-linecap:round;stroke-linejoin:round}.ss-main .ss-deselect{flex:0 1 auto;display:flex;align-items:center;justify-content:center;width:fit-content;height:auto;margin:0 var(--ss-spacing-m) 0 var(--ss-spacing-m)}.ss-main .ss-deselect svg{width:8px;height:8px}.ss-main .ss-deselect svg path{fill:none;stroke:var(--ss-font-color);stroke-width:20;stroke-linecap:round;stroke-linejoin:round}.ss-main .ss-arrow{flex:0 1 auto;display:flex;align-items:center;justify-content:flex-end;width:12px;height:12px;margin:auto var(--ss-spacing-m) auto var(--ss-spacing-m)}.ss-main .ss-arrow path{fill:none;stroke:var(--ss-font-color);stroke-width:18;stroke-linecap:round;stroke-linejoin:round;transition-timing-function:ease-out;transition:var(--ss-animation-timing)}.ss-content{position:absolute;display:flex;height:auto;flex-direction:column;width:auto;max-height:var(--ss-content-height);box-sizing:border-box;border:solid 1px var(--ss-border-color);background-color:var(--ss-bg-color);transition:transform var(--ss-animation-timing),opacity var(--ss-animation-timing);opacity:0;transform:scaleY(0);transform-origin:center top;overflow:hidden;z-index:10000}.ss-content.ss-relative{position:relative;height:100%}.ss-content.ss-open-above{flex-direction:column-reverse;opacity:1;transform:scaleY(1);transform-origin:center bottom;border-top-left-radius:var(--ss-border-radius);border-top-right-radius:var(--ss-border-radius)}.ss-content.ss-open-below{opacity:1;transform:scaleY(1);transform-origin:center top;border-bottom-left-radius:var(--ss-border-radius);border-bottom-right-radius:var(--ss-border-radius)}.ss-content .ss-search{flex:0 1 auto;display:flex;flex-direction:row;padding:var(--ss-spacing-l) var(--ss-spacing-l) var(--ss-spacing-m) var(--ss-spacing-l)}.ss-content .ss-search input{display:inline-flex;font-size:inherit;line-height:inherit;flex:1 1 auto;width:100%;min-width:0px;padding:var(--ss-spacing-m) var(--ss-spacing-l);margin:0;border:1px solid var(--ss-border-color);border-radius:var(--ss-border-radius);background-color:var(--ss-bg-color);outline:0;text-align:left;box-sizing:border-box}.ss-content .ss-search input::placeholder{color:var(--ss-font-placeholder-color);vertical-align:middle}.ss-content .ss-search input:focus{box-shadow:0 0 5px var(--ss-focus-color)}.ss-content .ss-search .ss-addable{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;flex:0 0 auto;height:auto;margin:0 0 0 var(--ss-spacing-m);border:1px solid var(--ss-border-color);border-radius:var(--ss-border-radius)}.ss-content .ss-search .ss-addable svg{display:flex;align-items:center;justify-content:flex-end;flex:0 1 auto;width:12px;height:12px;margin:auto var(--ss-spacing-m) auto var(--ss-spacing-m)}.ss-content .ss-search .ss-addable svg path{fill:none;stroke:var(--ss-font-color);stroke-width:18;stroke-linecap:round;stroke-linejoin:round}.ss-content .ss-list{flex:1 1 auto;height:auto;overflow-x:hidden;overflow-y:auto}.ss-content .ss-list .ss-error{color:var(--ss-error-color);padding:var(--ss-spacing-l)}.ss-content .ss-list .ss-searching{color:var(--ss-font-color);padding:var(--ss-spacing-l)}.ss-content .ss-list .ss-optgroup.ss-close .ss-option{display:none !important}.ss-content .ss-list .ss-optgroup .ss-optgroup-label{display:flex;flex-direction:row;align-items:center;justify-content:space-between;padding:var(--ss-spacing-m) var(--ss-spacing-l) var(--ss-spacing-m) var(--ss-spacing-l)}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-label-text{flex:1 1 auto;font-weight:bold;color:var(--ss-font-color)}.ss-content .ss-list .ss-optgroup .ss-optgroup-label:has(.ss-arrow){cursor:pointer}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-actions{flex:0 1 auto;display:flex;flex-direction:row;align-items:center;justify-content:center;gap:var(--ss-spacing-m)}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-actions .ss-selectall{flex:0 0 auto;display:flex;flex-direction:row;cursor:pointer}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-actions .ss-selectall:hover{opacity:.5}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-actions .ss-selectall.ss-selected svg path{stroke:var(--ss-error-color)}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-actions .ss-selectall span{flex:0 1 auto;display:flex;align-items:center;justify-content:center;font-size:60%;text-align:center;padding:0 var(--ss-spacing-s) 0 0}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-actions .ss-selectall svg{flex:0 1 auto;width:13px;height:13px}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-actions .ss-selectall svg path{fill:none;stroke:var(--ss-success-color);stroke-linecap:round;stroke-linejoin:round}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-actions .ss-selectall svg:first-child{stroke-width:5}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-actions .ss-selectall svg:last-child{stroke-width:11}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-actions .ss-closable{flex:0 1 auto;display:flex;flex-direction:row;cursor:pointer}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-actions .ss-closable .ss-arrow{flex:1 1 auto;width:10px;height:10px}.ss-content .ss-list .ss-optgroup .ss-optgroup-label .ss-optgroup-actions .ss-closable .ss-arrow path{fill:none;stroke:var(--ss-font-color);stroke-width:18;stroke-linecap:round;stroke-linejoin:round;transition-timing-function:ease-out;transition:var(--ss-animation-timing)}.ss-content .ss-list .ss-optgroup .ss-option{padding:var(--ss-spacing-s) var(--ss-spacing-s) var(--ss-spacing-s) calc(var(--ss-spacing-l)*3)}.ss-content .ss-list .ss-option{display:flex;padding:var(--ss-spacing-m) var(--ss-spacing-l) var(--ss-spacing-m) var(--ss-spacing-l);color:var(--ss-font-color);cursor:pointer;user-select:none}.ss-content .ss-list .ss-option:hover{color:var(--ss-bg-color);background-color:var(--ss-primary-color)}.ss-content .ss-list .ss-option.ss-highlighted,.ss-content .ss-list .ss-option:not(.ss-disabled).ss-selected{color:var(--ss-bg-color);background-color:var(--ss-primary-color)}.ss-content .ss-list .ss-option.ss-disabled{cursor:not-allowed;background-color:var(--ss-disabled-color)}.ss-content .ss-list .ss-option.ss-disabled:hover{color:var(--ss-font-color)}.ss-content .ss-list .ss-option .ss-search-highlight{background-color:var(--ss-highlight-color)}\n",""]);const l=o},3645:e=>{"use strict";e.exports=function(e){var s=[];return s.toString=function(){return this.map((function(s){var t="",i=void 0!==s[5];return s[4]&&(t+="@supports (".concat(s[4],") {")),s[2]&&(t+="@media ".concat(s[2]," {")),i&&(t+="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {")),t+=e(s),i&&(t+="}"),s[2]&&(t+="}"),s[4]&&(t+="}"),t})).join("")},s.i=function(e,t,i,n,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var l=0;l<this.length;l++){var r=this[l][0];null!=r&&(o[r]=!0)}for(var c=0;c<e.length;c++){var h=[].concat(e[c]);i&&o[h[0]]||(void 0!==a&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=a),t&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=t):h[2]=t),n&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=n):h[4]="".concat(n)),s.push(h))}},s}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},4487:function(e){e.exports=function(){"use strict";function e(){return Math.random().toString(36).substring(2,10)}function s(e,s=50,t=!1){let i;return function(...n){const a=self,o=t&&!i;clearTimeout(i),i=setTimeout((()=>{i=null,t||e.apply(a,n)}),s),o&&e.apply(a,n)}}function t(e,s){return JSON.stringify(e)===JSON.stringify(s)}class i{constructor(s){if(this.id=s.id&&""!==s.id?s.id:e(),this.label=s.label||"",this.selectAll=void 0!==s.selectAll&&s.selectAll,this.selectAllText=s.selectAllText||"Select All",this.closable=s.closable||"off",this.options=[],s.options)for(const e of s.options)this.options.push(new n(e))}}class n{constructor(s){this.id=s.id&&""!==s.id?s.id:e(),this.value=void 0===s.value?s.text:s.value,this.text=s.text||"",this.html=s.html||"",this.selected=void 0!==s.selected&&s.selected,this.display=void 0===s.display||s.display,this.disabled=void 0!==s.disabled&&s.disabled,this.mandatory=void 0!==s.mandatory&&s.mandatory,this.placeholder=void 0!==s.placeholder&&s.placeholder,this.class=s.class||"",this.style=s.style||"",this.data=s.data||{}}}class a{constructor(e,s){this.selectType="single",this.data=[],this.selectType=e,this.setData(s)}validateDataArray(e){if(!Array.isArray(e))return new Error("Data must be an array");for(let s of e){if(!(s instanceof i||"label"in s))return s instanceof n||"text"in s?this.validateOption(s):new Error("Data object must be a valid optgroup or option");if(!("label"in s))return new Error("Optgroup must have a label");if("options"in s&&s.options)for(let e of s.options)return this.validateOption(e)}return null}validateOption(e){return"text"in e?null:new Error("Option must have a text")}partialToFullData(e){let s=[];return e.forEach((e=>{if(e instanceof i||"label"in e){let t=[];"options"in e&&e.options&&e.options.forEach((e=>{t.push(new n(e))})),t.length>0&&s.push(new i(e))}(e instanceof n||"text"in e)&&s.push(new n(e))})),s}setData(e){this.data=this.partialToFullData(e),"single"===this.selectType&&this.setSelectedBy("value",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(e){this.setData(this.getData().concat(new n(e)))}setSelectedBy(e,s){let t=null,a=!1;for(let o of this.data){if(o instanceof i)for(let i of o.options)t||(t=i),i.selected=!a&&s.includes(i[e]),i.selected&&"single"===this.selectType&&(a=!0);o instanceof n&&(t||(t=o),o.selected=!a&&s.includes(o[e]),o.selected&&"single"===this.selectType&&(a=!0))}"single"===this.selectType&&t&&!a&&(t.selected=!0)}getSelected(){let e=this.getSelectedOptions(),s=[];return e.forEach((e=>{s.push(e.value)})),s}getSelectedOptions(){return this.filter((e=>e.selected),!1)}getSelectedIDs(){let e=this.getSelectedOptions(),s=[];return e.forEach((e=>{s.push(e.id)})),s}getOptgroupByID(e){for(let s of this.data)if(s instanceof i&&s.id===e)return s;return null}getOptionByID(e){let s=this.filter((s=>s.id===e),!1);return s.length?s[0]:null}getSelectType(){return this.selectType}getFirstOption(){let e=null;for(let s of this.data)if(s instanceof i?e=s.options[0]:s instanceof n&&(e=s),e)break;return e}search(e,s){return""===(e=e.trim())?this.getData():this.filter((t=>s(t,e)),!0)}filter(e,s){const t=[];return this.data.forEach((a=>{if(a instanceof i){let o=[];if(a.options.forEach((i=>{e&&!e(i)||(s?o.push(new n(i)):t.push(new n(i)))})),o.length>0){let e=new i(a);e.options=o,t.push(e)}}a instanceof n&&(e&&!e(a)||t.push(new n(a)))})),t}}class o{constructor(e,s,t){this.classes={main:"ss-main",placeholder:"ss-placeholder",values:"ss-values",single:"ss-single",max:"ss-max",value:"ss-value",valueText:"ss-value-text",valueDelete:"ss-value-delete",valueOut:"ss-value-out",deselect:"ss-deselect",deselectPath:"M10,10 L90,90 M10,90 L90,10",arrow:"ss-arrow",arrowClose:"M10,30 L50,70 L90,30",arrowOpen:"M10,70 L50,30 L90,70",content:"ss-content",openAbove:"ss-open-above",openBelow:"ss-open-below",search:"ss-search",searchHighlighter:"ss-search-highlight",searching:"ss-searching",addable:"ss-addable",addablePath:"M50,10 L50,90 M10,50 L90,50",list:"ss-list",optgroup:"ss-optgroup",optgroupLabel:"ss-optgroup-label",optgroupLabelText:"ss-optgroup-label-text",optgroupActions:"ss-optgroup-actions",optgroupSelectAll:"ss-selectall",optgroupSelectAllBox:"M60,10 L10,10 L10,90 L90,90 L90,50",optgroupSelectAllCheck:"M30,45 L50,70 L90,10",optgroupClosable:"ss-closable",option:"ss-option",optionDelete:"M10,10 L90,90 M10,90 L90,10",highlighted:"ss-highlighted",open:"ss-open",close:"ss-close",selected:"ss-selected",error:"ss-error",disabled:"ss-disabled",hide:"ss-hide"},this.store=s,this.settings=e,this.callbacks=t,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add("up"===this.settings.openPosition?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const e=this.store.getSelectedOptions();if(e.length){const s=e[e.length-1].id,t=this.content.list.querySelector('[data-id="'+s+'"]');t&&this.ensureElementInView(this.content.list,t)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),""!==this.settings.style&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const e of this.settings.class)""!==e.trim()&&(this.main.main.classList.add(e.trim()),this.content.main.classList.add(e.trim()));"relative"===this.settings.contentPosition&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var e;const s=document.createElement("div");s.dataset.id=this.settings.id,s.setAttribute("aria-label",this.settings.ariaLabel),s.tabIndex=0,s.onkeydown=e=>{switch(e.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),"ArrowDown"===e.key?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const s=this.content.list.querySelector("."+this.classes.highlighted);return s&&s.click(),!1;case"Escape":return this.callbacks.close(),!1}return!1},s.onclick=e=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const t=document.createElement("div");t.classList.add(this.classes.values),s.appendChild(t);const i=document.createElement("div");i.classList.add(this.classes.deselect);const n=null===(e=this.store)||void 0===e?void 0:e.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&n&&n.length<=0?i.classList.add(this.classes.hide):i.classList.remove(this.classes.hide),i.onclick=e=>{if(e.stopPropagation(),this.settings.disabled)return;let s=!0;const t=this.store.getSelectedOptions();if(this.callbacks.beforeChange&&(s=!0===this.callbacks.beforeChange([],t)),s){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const e=this.store.getFirstOption(),s=e?e.value:"";this.callbacks.setSelected(s,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 100 100");const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",this.classes.deselectPath),a.appendChild(o),i.appendChild(a),s.appendChild(i);const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.classList.add(this.classes.arrow),l.setAttribute("viewBox","0 0 100 100");const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&l.classList.add(this.classes.hide),l.appendChild(r),s.appendChild(l),{main:s,values:t,deselect:{main:i,svg:a,path:o},arrow:{main:l,path:r}}}mainFocus(e){"click"!==e&&this.main.main.focus({preventScroll:!0})}placeholder(){const e=this.store.filter((e=>e.placeholder),!1);let s=this.settings.placeholderText;e.length&&(""!==e[0].html?s=e[0].html:""!==e[0].text&&(s=e[0].text));const t=document.createElement("div");return t.classList.add(this.classes.placeholder),t.innerHTML=s,t}renderValues(){this.settings.isMultiple?(this.renderMultipleValues(),this.updateDeselectAll()):this.renderSingleValue()}renderSingleValue(){const e=this.store.filter((e=>e.selected&&!e.placeholder),!1),s=e.length>0?e[0]:null;if(s){const e=document.createElement("div");e.classList.add(this.classes.single),s.html?e.innerHTML=s.html:e.innerText=s.text,this.main.values.innerHTML=e.outerHTML}else this.main.values.innerHTML=this.placeholder().outerHTML;this.settings.allowDeselect&&e.length?this.main.deselect.main.classList.remove(this.classes.hide):this.main.deselect.main.classList.add(this.classes.hide)}renderMultipleValues(){let e=this.main.values.childNodes,s=this.store.filter((e=>e.selected&&e.display),!1);if(0===s.length)return void(this.main.values.innerHTML=this.placeholder().outerHTML);{const e=this.main.values.querySelector("."+this.classes.placeholder);e&&e.remove()}if(s.length>this.settings.maxValuesShown){const e=document.createElement("div");return e.classList.add(this.classes.max),e.textContent=this.settings.maxValuesMessage.replace("{number}",s.length.toString()),void(this.main.values.innerHTML=e.outerHTML)}{const e=this.main.values.querySelector("."+this.classes.max);e&&e.remove()}let t=[];for(let i=0;i<e.length;i++){const n=e[i],a=n.getAttribute("data-id");a&&(s.filter((e=>e.id===a),!1).length||t.push(n))}for(const e of t)e.classList.add(this.classes.valueOut),setTimeout((()=>{this.main.values.hasChildNodes()&&this.main.values.contains(e)&&this.main.values.removeChild(e)}),100);e=this.main.values.childNodes;for(let t=0;t<s.length;t++){let i=!0;for(let n=0;n<e.length;n++)s[t].id===String(e[n].dataset.id)&&(i=!1);i&&(this.settings.keepOrder||0===e.length?this.main.values.appendChild(this.multipleValue(s[t])):0===t?this.main.values.insertBefore(this.multipleValue(s[t]),e[t]):e[t-1].insertAdjacentElement("afterend",this.multipleValue(s[t])))}}multipleValue(e){const s=document.createElement("div");s.classList.add(this.classes.value),s.dataset.id=e.id;const t=document.createElement("div");if(t.classList.add(this.classes.valueText),t.innerText=e.text,s.appendChild(t),!e.mandatory){const t=document.createElement("div");t.classList.add(this.classes.valueDelete),t.onclick=s=>{if(s.preventDefault(),s.stopPropagation(),this.settings.disabled)return;let t=!0;const a=this.store.getSelectedOptions(),o=a.filter((s=>s.selected&&s.id!==e.id),!0);if(!(this.settings.minSelected&&o.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(t=!0===this.callbacks.beforeChange(o,a)),t)){let e=[];for(const s of o){if(s instanceof i)for(const t of s.options)e.push(t.value);s instanceof n&&e.push(s.value)}this.callbacks.setSelected(e,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(o),this.updateDeselectAll()}};const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 100 100");const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",this.classes.optionDelete),a.appendChild(o),t.appendChild(a),s.appendChild(t)}return s}contentDiv(){const e=document.createElement("div");e.dataset.id=this.settings.id;const s=this.searchDiv();e.appendChild(s.main);const t=this.listDiv();return e.appendChild(t),{main:e,search:s,list:t}}moveContent(){"relative"!==this.settings.contentPosition&&"down"!==this.settings.openPosition?"up"!==this.settings.openPosition?"up"===this.putContent()?this.moveContentAbove():this.moveContentBelow():this.moveContentAbove():this.moveContentBelow()}searchDiv(){const e=document.createElement("div"),t=document.createElement("input"),i=document.createElement("div");e.classList.add(this.classes.search);const a={main:e,input:t};if(this.settings.showSearch||(e.classList.add(this.classes.hide),t.readOnly=!0),t.type="search",t.placeholder=this.settings.searchPlaceholder,t.tabIndex=-1,t.setAttribute("aria-label",this.settings.searchPlaceholder),t.setAttribute("autocapitalize","off"),t.setAttribute("autocomplete","off"),t.setAttribute("autocorrect","off"),t.oninput=s((e=>{this.callbacks.search(e.target.value)}),100),t.onkeydown=e=>{switch(e.key){case"ArrowUp":case"ArrowDown":return"ArrowDown"===e.key?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case"Enter":case" ":if(this.callbacks.addable&&e.ctrlKey)return i.click(),!1;{const e=this.content.list.querySelector("."+this.classes.highlighted);if(e)return e.click(),!1}return!0}return!0},e.appendChild(t),this.callbacks.addable){i.classList.add(this.classes.addable);const s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("viewBox","0 0 100 100");const t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",this.classes.addablePath),s.appendChild(t),i.appendChild(s),i.onclick=e=>{if(e.preventDefault(),e.stopPropagation(),!this.callbacks.addable)return;const s=this.content.search.input.value.trim();if(""===s)return void this.content.search.input.focus();const t=e=>{let s=new n(e);if(this.callbacks.addOption(s),this.settings.isMultiple){let e=this.store.getSelected();e.push(s.value),this.callbacks.setSelected(e,!0)}else this.callbacks.setSelected([s.value],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout((()=>{this.callbacks.close()}),100)},i=this.callbacks.addable(s);!1!==i&&null!=i&&(i instanceof Promise?i.then((e=>{t("string"==typeof e?{text:e,value:e}:e)})):t("string"==typeof i?{text:i,value:i}:i))},e.appendChild(i),a.addable={main:i,svg:s,path:t}}return a}searchFocus(){this.content.search.input.focus()}getOptions(e=!1,s=!1,t=!1){let i="."+this.classes.option;return e&&(i+=":not(."+this.classes.placeholder+")"),s&&(i+=":not(."+this.classes.disabled+")"),t&&(i+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(i))}highlight(e){const s=this.getOptions(!0,!0,!0);if(0===s.length)return;if(1===s.length&&!s[0].classList.contains(this.classes.highlighted))return void s[0].classList.add(this.classes.highlighted);let t=!1;for(const e of s)e.classList.contains(this.classes.highlighted)&&(t=!0);if(!t)for(const e of s)if(e.classList.contains(this.classes.selected)){e.classList.add(this.classes.highlighted);break}for(let t=0;t<s.length;t++)if(s[t].classList.contains(this.classes.highlighted)){const i=s[t];i.classList.remove(this.classes.highlighted);const n=i.parentElement;if(n&&n.classList.contains(this.classes.open)){const e=n.querySelector("."+this.classes.optgroupLabel);e&&e.click()}let a=s["down"===e?t+1<s.length?t+1:0:t-1>=0?t-1:s.length-1];a.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,a);const o=a.parentElement;if(o&&o.classList.contains(this.classes.close)){const e=o.querySelector("."+this.classes.optgroupLabel);e&&e.click()}return}s["down"===e?0:s.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,s["down"===e?0:s.length-1])}listDiv(){const e=document.createElement("div");return e.classList.add(this.classes.list),e}renderError(e){this.content.list.innerHTML="";const s=document.createElement("div");s.classList.add(this.classes.error),s.textContent=e,this.content.list.appendChild(s)}renderSearching(){this.content.list.innerHTML="";const e=document.createElement("div");e.classList.add(this.classes.searching),e.textContent=this.settings.searchingText,this.content.list.appendChild(e)}renderOptions(e){if(this.content.list.innerHTML="",0===e.length){const e=document.createElement("div");return e.classList.add(this.classes.search),e.innerHTML=this.settings.searchText,void this.content.list.appendChild(e)}for(const s of e){if(s instanceof i){const e=document.createElement("div");e.classList.add(this.classes.optgroup);const t=document.createElement("div");t.classList.add(this.classes.optgroupLabel),e.appendChild(t);const i=document.createElement("div");i.classList.add(this.classes.optgroupLabelText),i.textContent=s.label,t.appendChild(i);const n=document.createElement("div");if(n.classList.add(this.classes.optgroupActions),t.appendChild(n),this.settings.isMultiple&&s.selectAll){const e=document.createElement("div");e.classList.add(this.classes.optgroupSelectAll);let t=!0;for(const e of s.options)if(!e.selected){t=!1;break}t&&e.classList.add(this.classes.selected);const i=document.createElement("span");i.textContent=s.selectAllText,e.appendChild(i);const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 100 100"),e.appendChild(a);const o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("d",this.classes.optgroupSelectAllBox),a.appendChild(o);const l=document.createElementNS("http://www.w3.org/2000/svg","path");l.setAttribute("d",this.classes.optgroupSelectAllCheck),a.appendChild(l),e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const i=this.store.getSelected();if(t){const e=i.filter((e=>{for(const t of s.options)if(e===t.value)return!1;return!0}));this.callbacks.setSelected(e,!0)}else{const e=i.concat(s.options.map((e=>e.value)));for(const e of s.options)this.store.getOptionByID(e.id)||this.callbacks.addOption(e);this.callbacks.setSelected(e,!0)}})),n.appendChild(e)}if("off"!==s.closable){const i=document.createElement("div");i.classList.add(this.classes.optgroupClosable);const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 100 100"),a.classList.add(this.classes.arrow),i.appendChild(a);const o=document.createElementNS("http://www.w3.org/2000/svg","path");a.appendChild(o),s.options.some((e=>e.selected))||""!==this.content.search.input.value.trim()?(i.classList.add(this.classes.open),o.setAttribute("d",this.classes.arrowOpen)):"open"===s.closable?(e.classList.add(this.classes.open),o.setAttribute("d",this.classes.arrowOpen)):"close"===s.closable&&(e.classList.add(this.classes.close),o.setAttribute("d",this.classes.arrowClose)),t.addEventListener("click",(s=>{s.preventDefault(),s.stopPropagation(),e.classList.contains(this.classes.close)?(e.classList.remove(this.classes.close),e.classList.add(this.classes.open),o.setAttribute("d",this.classes.arrowOpen)):(e.classList.remove(this.classes.open),e.classList.add(this.classes.close),o.setAttribute("d",this.classes.arrowClose))})),n.appendChild(i)}e.appendChild(t);for(const t of s.options)e.appendChild(this.option(t));this.content.list.appendChild(e)}s instanceof n&&this.content.list.appendChild(this.option(s))}}option(e){if(e.placeholder){const e=document.createElement("div");return e.classList.add(this.classes.option),e.classList.add(this.classes.hide),e}const s=document.createElement("div");return s.dataset.id=e.id,s.id=e.id,s.classList.add(this.classes.option),s.setAttribute("role","option"),e.class&&e.class.split(" ").forEach((e=>{s.classList.add(e)})),e.style&&(s.style.cssText=e.style),this.settings.searchHighlight&&""!==this.content.search.input.value.trim()?s.innerHTML=this.highlightText(""!==e.html?e.html:e.text,this.content.search.input.value,this.classes.searchHighlighter):""!==e.html?s.innerHTML=e.html:s.textContent=e.text,this.settings.showOptionTooltips&&s.textContent&&s.setAttribute("title",s.textContent),e.display||s.classList.add(this.classes.hide),e.disabled&&s.classList.add(this.classes.disabled),e.selected&&this.settings.hideSelected&&s.classList.add(this.classes.hide),e.selected?(s.classList.add(this.classes.selected),s.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",s.id)):(s.classList.remove(this.classes.selected),s.setAttribute("aria-selected","false")),s.addEventListener("click",(s=>{s.preventDefault(),s.stopPropagation();const t=this.store.getSelected(),i=s.currentTarget,n=String(i.dataset.id);if(e.disabled||e.selected&&!this.settings.allowDeselect)return;if(this.settings.isMultiple&&this.settings.maxSelected<=t.length&&!e.selected||this.settings.isMultiple&&this.settings.minSelected>=t.length&&e.selected)return;let a=!1;const o=this.store.getSelectedOptions();let l=[];this.settings.isMultiple&&(l=e.selected?o.filter((e=>e.id!==n)):o.concat(e)),this.settings.isMultiple||(l=e.selected?[]:[e]),this.callbacks.beforeChange||(a=!0),this.callbacks.beforeChange&&(a=!1!==this.callbacks.beforeChange(l,o)),a&&(this.store.getOptionByID(n)||this.callbacks.addOption(e),this.callbacks.setSelected(l.map((e=>e.value)),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(l))})),s}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(e,s,t){let i=e;const n=new RegExp("("+s.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(n))return e;const a=e.match(n).index,o=a+e.match(n)[0].toString().length,l=e.substring(a,o);return i=i.replace(n,`<mark class="${t}">${l}</mark>`),i}moveContentAbove(){const e=this.main.main.offsetHeight,s=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const t=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(e+s-1)+"px 0px 0px 0px",this.content.main.style.top=t.top+t.height+window.scrollY+"px",this.content.main.style.left=t.left+window.scrollX+"px",this.content.main.style.width=t.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const e=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px","relative"!==this.settings.contentPosition&&(this.content.main.style.top=e.top+e.height+window.scrollY+"px",this.content.main.style.left=e.left+window.scrollX+"px",this.content.main.style.width=e.width+"px")}ensureElementInView(e,s){const t=e.scrollTop+e.offsetTop,i=t+e.clientHeight,n=s.offsetTop,a=n+s.clientHeight;n<t?e.scrollTop-=t-n:a>i&&(e.scrollTop+=a-i)}putContent(){const e=this.main.main.offsetHeight,s=this.main.main.getBoundingClientRect(),t=this.content.main.offsetHeight;return window.innerHeight-(s.top+e)<=t&&s.top>t?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const e=this.store.getSelectedOptions(),s=e&&e.length>0,t=this.settings.isMultiple,i=this.settings.allowDeselect,n=this.main.deselect.main,a=this.classes.hide;!i||t&&!s?n.classList.add(a):n.classList.remove(a)}}class l{constructor(e){this.listen=!1,this.observer=null,this.select=e,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(e){this.listen=e,e&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),e||this.observer&&this.observer.disconnect()}valueChange(e){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedValues()),!0}observeCall(e){if(!this.listen)return;let s=!1,t=!1,i=!1;for(const n of e)n.target===this.select&&("disabled"===n.attributeName&&(t=!0),"class"===n.attributeName&&(s=!0)),"OPTGROUP"!==n.target.nodeName&&"OPTION"!==n.target.nodeName||(i=!0);s&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),t&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),i&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let e=[];const s=this.select.childNodes;for(const t of s)"OPTGROUP"===t.nodeName&&e.push(this.getDataFromOptgroup(t)),"OPTION"===t.nodeName&&e.push(this.getDataFromOption(t));return e}getDataFromOptgroup(e){let s={id:e.id,label:e.label,selectAll:!!e.dataset&&"true"===e.dataset.selectall,selectAllText:e.dataset?e.dataset.selectalltext:"Select all",closable:e.dataset?e.dataset.closable:"off",options:[]};const t=e.childNodes;for(const e of t)"OPTION"===e.nodeName&&s.options.push(this.getDataFromOption(e));return s}getDataFromOption(e){return{id:e.id,value:e.value,text:e.text,html:e.dataset&&e.dataset.html?e.dataset.html:"",selected:e.selected,display:"none"!==e.style.display,disabled:e.disabled,mandatory:!!e.dataset&&"true"===e.dataset.mandatory,placeholder:"true"===e.dataset.placeholder,class:e.className,style:e.style.cssText,data:e.dataset}}getSelectedValues(){let e=[];const s=this.select.childNodes;for(const t of s){if("OPTGROUP"===t.nodeName){const s=t.childNodes;for(const t of s)if("OPTION"===t.nodeName){const s=t;s.selected&&e.push(s.value)}}if("OPTION"===t.nodeName){const s=t;s.selected&&e.push(s.value)}}return e}setSelected(e){this.changeListen(!1);const s=this.select.childNodes;for(const t of s){if("OPTGROUP"===t.nodeName){const s=t.childNodes;for(const t of s)if("OPTION"===t.nodeName){const s=t;s.selected=e.includes(s.value)}}if("OPTION"===t.nodeName){const s=t;s.selected=e.includes(s.value)}}this.changeListen(!0)}updateSelect(e,s,t){this.changeListen(!1),e&&(this.select.dataset.id=e),s&&(this.select.style.cssText=s),t&&(this.select.className="",t.forEach((e=>{""!==e.trim()&&this.select.classList.add(e.trim())}))),this.changeListen(!0)}updateOptions(e){this.changeListen(!1),this.select.innerHTML="";for(const s of e)s instanceof i&&this.select.appendChild(this.createOptgroup(s)),s instanceof n&&this.select.appendChild(this.createOption(s));this.select.dispatchEvent(new Event("change")),this.changeListen(!0)}createOptgroup(e){const s=document.createElement("optgroup");if(s.id=e.id,s.label=e.label,e.selectAll&&(s.dataset.selectAll="true"),"off"!==e.closable&&(s.dataset.closable=e.closable),e.options)for(const t of e.options)s.appendChild(this.createOption(t));return s}createOption(e){const s=document.createElement("option");return s.id=e.id,s.value=e.value,s.innerHTML=e.text,""!==e.html&&s.setAttribute("data-html",e.html),e.selected&&(s.selected=e.selected),e.disabled&&(s.disabled=!0),!1===e.display&&(s.style.display="none"),e.placeholder&&s.setAttribute("data-placeholder","true"),e.mandatory&&s.setAttribute("data-mandatory","true"),e.class&&e.class.split(" ").forEach((e=>{s.classList.add(e)})),e.data&&"object"==typeof e.data&&Object.keys(e.data).forEach((t=>{s.setAttribute("data-"+function(e){const s=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(e=>"-"+e.toLowerCase()));return e[0]===e[0].toUpperCase()?s.substring(1):s}(t),e.data[t])})),s}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class r{constructor(s){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,s||(s={}),this.id="ss-"+e(),this.style=s.style||"",this.class=s.class||[],this.disabled=void 0!==s.disabled&&s.disabled,this.alwaysOpen=void 0!==s.alwaysOpen&&s.alwaysOpen,this.showSearch=void 0===s.showSearch||s.showSearch,this.ariaLabel=s.ariaLabel||"Combobox",this.searchPlaceholder=s.searchPlaceholder||"Search",this.searchText=s.searchText||"No Results",this.searchingText=s.searchingText||"Searching...",this.searchHighlight=void 0!==s.searchHighlight&&s.searchHighlight,this.closeOnSelect=void 0===s.closeOnSelect||s.closeOnSelect,this.contentLocation=s.contentLocation||document.body,this.contentPosition=s.contentPosition||"absolute",this.openPosition=s.openPosition||"auto",this.placeholderText=void 0!==s.placeholderText?s.placeholderText:"Select Value",this.allowDeselect=void 0!==s.allowDeselect&&s.allowDeselect,this.hideSelected=void 0!==s.hideSelected&&s.hideSelected,this.keepOrder=void 0!==s.keepOrder&&s.keepOrder,this.showOptionTooltips=void 0!==s.showOptionTooltips&&s.showOptionTooltips,this.minSelected=s.minSelected||0,this.maxSelected=s.maxSelected||1e3,this.timeoutDelay=s.timeoutDelay||200,this.maxValuesShown=s.maxValuesShown||20,this.maxValuesMessage=s.maxValuesMessage||"{number} selected"}}return class{constructor(e){var t;if(this.events={search:void 0,searchFilter:(e,s)=>-1!==e.text.toLowerCase().indexOf(s.toLowerCase()),addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=s((()=>{(this.settings.isOpen||this.settings.isFullOpen)&&this.render.moveContent()})),this.windowScroll=s((()=>{(this.settings.isOpen||this.settings.isFullOpen)&&this.render.moveContent()})),this.documentClick=e=>{this.settings.isOpen&&e.target&&!function(e,s){function t(e,t){return t&&e&&e.classList&&e.classList.contains(t)||t&&e&&e.dataset&&e.dataset.id&&e.dataset.id===s?e:null}return t(e,s)||function e(s,i){return s&&s!==document?t(s,i)?s:e(s.parentNode,i):null}(e,s)}(e.target,this.settings.id)&&this.close(e.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl="string"==typeof e.select?document.querySelector(e.select):e.select,!this.selectEl)return void(e.events&&e.events.error&&e.events.error(new Error("Could not find select element")));if("SELECT"!==this.selectEl.tagName)return void(e.events&&e.events.error&&e.events.error(new Error("Element isnt of type select")));this.selectEl.dataset.ssid&&this.destroy(),this.settings=new r(e.settings);const i=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const t in e.events)e.events.hasOwnProperty(t)&&(-1!==i.indexOf(t)?this.events[t]=s(e.events[t],100):this.events[t]=e.events[t]);this.settings.disabled=(null===(t=e.settings)||void 0===t?void 0:t.disabled)?e.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new l(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=e=>{this.setSelected(e)},this.select.onClassChange=e=>{this.settings.class=e,this.render.updateClassStyles()},this.select.onDisabledChange=e=>{e?this.disable():this.enable()},this.select.onOptionsChange=e=>{this.setData(e)},this.store=new a(this.settings.isMultiple?"multiple":"single",e.data?e.data:this.select.getData()),e.data&&this.select.updateOptions(this.store.getData());const n={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new o(this.settings,this.store,n),this.render.renderValues(),this.render.renderOptions(this.store.getData());const c=this.selectEl.getAttribute("aria-label"),h=this.selectEl.getAttribute("aria-labelledby");c?this.render.main.main.setAttribute("aria-label",c):h&&this.render.main.main.setAttribute("aria-labelledby",h),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),"auto"===this.settings.openPosition&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(e){const s=this.store.getSelected(),i=this.store.validateDataArray(e);if(i)return void(this.events.error&&this.events.error(i));this.store.setData(e);const n=this.store.getData();this.select.updateOptions(n),this.render.renderValues(),this.render.renderOptions(n),this.events.afterChange&&!t(s,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){return this.store.getSelected()}setSelected(e,s=!0){const i=this.store.getSelected();this.store.setSelectedBy("value",Array.isArray(e)?e:[e]);const n=this.store.getData();this.select.updateOptions(n),this.render.renderValues(),""!==this.render.content.search.input.value?this.search(this.render.content.search.input.value):this.render.renderOptions(n),s&&this.events.afterChange&&!t(i,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(e){const s=this.store.getSelected();this.store.getDataOptions().some((s=>{var t;return s.value===(null!==(t=e.value)&&void 0!==t?t:e.text)}))||this.store.addOption(e);const i=this.store.getData();this.select.updateOptions(i),this.render.renderValues(),this.render.renderOptions(i),this.events.afterChange&&!t(s,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout((()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)}),this.settings.timeoutDelay),"absolute"===this.settings.contentPosition&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(e=null){this.settings.isOpen&&!this.settings.alwaysOpen&&(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),""!==this.render.content.search.input.value&&this.search(""),this.render.mainFocus(e),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout((()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)}),this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(e){if(this.render.content.search.input.value!==e&&(this.render.content.search.input.value=e),!this.events.search)return void this.render.renderOptions(""===e?this.store.getData():this.store.search(e,this.events.searchFilter));this.render.renderSearching();const s=this.events.search(e,this.store.getSelectedOptions());s instanceof Promise?s.then((e=>{this.render.renderOptions(this.store.partialToFullData(e))})).catch((e=>{this.render.renderError("string"==typeof e?e:e.message)})):Array.isArray(s)?this.render.renderOptions(this.store.partialToFullData(s)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),"auto"===this.settings.openPosition&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}}()},3379:e=>{"use strict";var s=[];function t(e){for(var t=-1,i=0;i<s.length;i++)if(s[i].identifier===e){t=i;break}return t}function i(e,i){for(var a={},o=[],l=0;l<e.length;l++){var r=e[l],c=i.base?r[0]+i.base:r[0],h=a[c]||0,d="".concat(c," ").concat(h);a[c]=h+1;var p=t(d),u={css:r[1],media:r[2],sourceMap:r[3],supports:r[4],layer:r[5]};if(-1!==p)s[p].references++,s[p].updater(u);else{var g=n(u,i);i.byIndex=l,s.splice(l,0,{identifier:d,updater:g,references:1})}o.push(d)}return o}function n(e,s){var t=s.domAPI(s);return t.update(e),function(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap&&s.supports===e.supports&&s.layer===e.layer)return;t.update(e=s)}else t.remove()}}e.exports=function(e,n){var a=i(e=e||[],n=n||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var l=t(a[o]);s[l].references--}for(var r=i(e,n),c=0;c<a.length;c++){var h=t(a[c]);0===s[h].references&&(s[h].updater(),s.splice(h,1))}a=r}}},569:e=>{"use strict";var s={};e.exports=function(e,t){var i=function(e){if(void 0===s[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}s[e]=t}return s[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}},9216:e=>{"use strict";e.exports=function(e){var s=document.createElement("style");return e.setAttributes(s,e.attributes),e.insert(s,e.options),s}},3565:(e,s,t)=>{"use strict";e.exports=function(e){var s=t.nc;s&&e.setAttribute("nonce",s)}},7795:e=>{"use strict";e.exports=function(e){var s=e.insertStyleElement(e);return{update:function(t){!function(e,s,t){var i="";t.supports&&(i+="@supports (".concat(t.supports,") {")),t.media&&(i+="@media ".concat(t.media," {"));var n=void 0!==t.layer;n&&(i+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),i+=t.css,n&&(i+="}"),t.media&&(i+="}"),t.supports&&(i+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),s.styleTagTransform(i,e,s.options)}(s,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(s)}}}},4589:e=>{"use strict";e.exports=function(e,s){if(s.styleSheet)s.styleSheet.cssText=e;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(e))}}}},s={};function t(i){var n=s[i];if(void 0!==n)return n.exports;var a=s[i]={id:i,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.exports}t.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return t.d(s,{a:s}),s},t.d=(e,s)=>{for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),t.nc=void 0,(()=>{"use strict";const e=jQuery;var s=t.n(e);Shiny;var i=t(4487),n=t.n(i),a=t(3379),o=t.n(a),l=t(7795),r=t.n(l),c=t(569),h=t.n(c),d=t(3565),p=t.n(d),u=t(9216),g=t.n(u),m=t(4589),v=t.n(m),f=t(7647),b={};b.styleTagTransform=v(),b.setAttributes=p(),b.insert=h().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=g(),o()(f.Z,b),f.Z&&f.Z.locals&&f.Z.locals;var w=new Shiny.InputBinding;s().extend(w,{store:[],updateStore:(e,s)=>{w.store[e.id]=s},find:e=>s()(e).find(".slim-select"),getValue:e=>w.store[e.id].getSelected(),setValue:(e,s)=>{e.setValue(s)},subscribe:(e,t)=>{s()(e).on("change.slimSelectBinding",(function(e){t()}))},unsubscribe:e=>{s()(e).off(".slimSelectBinding")},receiveMessage:(e,t)=>{if(t.hasOwnProperty("label")){var i=s()("#"+e.id+"-label");!function(e,s){if(void 0!==e){if(1!==s.length)throw new Error("labelNode must be of length 1");Array.isArray(e)&&0===e.length?s.addClass("shiny-label-null"):(s.html(e),s.removeClass("shiny-label-null"))}}(t.label,i)}},initialize:e=>{var s=e.querySelector('script[data-for="'+e.id+'"]');(s=JSON.parse(s.text)).select=e;var t=new(n())(s);w.updateStore(e,t),s.hasOwnProperty("selected")&&t.setSelected(s.selected)}}),Shiny.inputBindings.register(w,"shinyWidgets.slimSelectBinding")})()})();